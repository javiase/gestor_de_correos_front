<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Detalle de Correo</title>
  <link rel="stylesheet" href="/css/base.css??v=%ASSET_VERSION%" />
  <link rel="stylesheet" href="/css/layout.css?v=%ASSET_VERSION%" />
  <link rel="stylesheet" href="/css/components.css?v=%ASSET_VERSION%" />
  <link rel="stylesheet" href="/css/components/sidebar.css?v=%ASSET_VERSION%" />
  <link rel="stylesheet" href="/css/pages/email.css?v=%ASSET_VERSION%" />
  <link rel="stylesheet" href="/vendor/fontawesome-6.4.0/css/all.min.css?v=%ASSET_VERSION%">
</head>
<body>
    <div id="sidebarContainer"></div>
    <div class="main-content" id="mainContent">
        <div class="left-container">
            <div id="chatContainer" class="chat-container">
                <div id="historyContainer"></div>
                <div class="grid-container">
                    <div class="mail-container client actual">
                        <h2>Ultimo mensaje recibido</h2>

                        <!-- PANEL RECIBIDO -->
                        <div class="panel">
                            <div class="panel-header">
                                <div class="panel-header-content" style="justify-content: space-between;">
                                    <p id="emailFrom">De: ---</p>
                                    <span id="emailDate">--:--</span>
                                </div>
                                <p class="panel-subject" id="emailSubject">Asunto: ---</p>
                            </div>
                            <div class="panel-scroll">
                                <div class="panel-content" id="receivedContent"></div>
                            </div>
                            <div class="panel-footer"></div>
                        </div>
                    </div>
                    <div class="mail-container bot actual">
                        <h2>Respuesta del bot</h2>
                        <!-- PANEL RESPUESTA -->
                        <div class="panel ">
                            <div class="panel-header">
                                <div class="panel-header-content">
                                    <strong>Asunto:&nbsp;&nbsp;</strong>
                                    <!-- aquí podrá editarse el asunto -->
                                    <div
                                        id="responseSubject"
                                        class="panel-subject response-subject"
                                        contenteditable="true"
                                        data-placeholder="Escribe el asunto…"
                                    ></div>
                                </div>
                            </div>
                            <div class="panel-scroll">
                                <!-- idem: placeholder y siempre editable -->
                                <div
                                    class="panel-content response-body"
                                    id="responseContent"
                                    contenteditable="true"
                                    data-placeholder="Escribe tu respuesta…"
                                ></div>
                            </div>
                            <div id="replyFilesPreview" class="attachments-grid"></div>
                            <div class="panel-footer">
                                <div class="left-actions">
                                    <button id="sendReply" class="send-button">Enviar</button>
                                </div>

                                <div class="right-actions">
                                    <button id="attachBtn" class="icon-button attach-button" type="button" aria-label="Adjuntar">
                                    <!-- icono paperclip -->
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.2a2 2 0 0 1-2.83-2.83l8.5-8.5"/>
                                    </svg>
                                    </button>

                                    <button id="deleteEmail" class="icon-button trash-button" aria-label="Borrar">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6l-1.35 14.11A2 2 0 0 1 15.66 22H8.34A2 2 0 0 1 6.35 20.11L5 6"></path>
                                        <path d="M14 10v6"></path>
                                        <path d="M10 10v6"></path>
                                        <line x1="9" y1="6" x2="9" y2="4"></line>
                                        <line x1="15" y1="6" x2="15" y2="4"></line>
                                    </svg>
                                    </button>
                                </div>
                                </div>

                                <input id="replyFilesInput" type="file" multiple hidden />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pagination">
                <!-- Navegación -->
                <button id="prevEmail" class="pagination-btn prev-btn">
                    <i class="fas fa-chevron-left"></i>&nbsp;&nbsp;&nbsp;&nbsp;Anterior
                </button>
                <button id="nextEmail" class="pagination-btn next-btn">
                    Siguiente&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
  </div>
  <script src="/js/vendor/dompurify.min.js?v=%ASSET_VERSION%"></script>
  <script type="module" src="/js/config.js?v=%ASSET_VERSION%"></script>
  <script type="module" src="/js/utils/api.js?v=%ASSET_VERSION%"></script>
  <script type="module" src="/js/components/sidebar.js?v=%ASSET_VERSION%"></script>
  <script type="module" src="/js/pages/email.js?v=%ASSET_VERSION%"></script>
</body>
</html>